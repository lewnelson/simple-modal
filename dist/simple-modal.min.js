/**
 *  Javascript SimpleModal library by Lewis Nelson
 *
 *  Author, Lewis Nelson http://www.lewnelson.com
 *
 *  Full source, docs and license available on GitHub
 *  https://github.com/lewnelson/simple-modal
 */
function SimpleModal(e){function t(e){C=e}function n(e){return"undefined"==typeof C[e]?null:C[e]}function i(){if("undefined"!=typeof M.size)return M.size;var e=n("size");if(null===e)var t=F.size;else{if("string"!=typeof e)throw new Error("Invalid type for option, `size`. Expecting type string.");if("-1"===L.indexOf(e))var t=F.size;else var t=e}return M.size=t,t}function o(){if("undefined"!=typeof M.title)return M.title;var e=n("title");if(null===e)var t=F.title;else{if("string"!=typeof e)throw new Error("Invalid type for option, `title`. Expecting type string.");var t=e}return M.title=t,t}function l(){if("undefined"!=typeof M.body)return M.body;var e=n("body");if(null===e)var t=F.body;else{if("string"!=typeof e)throw new Error("Invalid type for option, `body`. Expecting type string.");var t=e}return M.body=t,t}function a(){if("undefined"!=typeof M.closable)return M.closable;var e=n("closable");if(null===e)var t=F.closable;else{if("boolean"!=typeof e)throw new Error("Invalid type for option, `closable`. Expecting type boolean.");var t=e}return M.closable=t,t}function r(){if("undefined"!=typeof M.closableOnOutsideClick)return M.closableOnOutsideClick;var e=n("closableOnOutsideClick");if(null===e)var t=F.closableOnOutsideClick;else{if("boolean"!=typeof e)throw new Error("Invalid type for option, `closableOnOutsideClick`. Expecting type boolean.");var t=e}return M.closableOnOutsideClick=t,t}function d(){if("undefined"!=typeof M.buttons)return M.buttons;var e=n("buttons"),t=[];if(null!==e){if("object"!=typeof e)throw new Error("Invalid type for option, `buttons`. Expecting type object.");for(index in e){var i=e[index];for(key in i){if("undefined"===T[key])throw new Error("Invalid button option, `"+key+"`.");var o=T[key];if(typeof i[key]!==o)throw new Error("Invalid type for button option, `"+key+"`. Expecting type "+o+".")}for(defaultOption in N)"undefined"==typeof i[defaultOption]&&(i[defaultOption]=N[defaultOption]);t.push(i)}}return M.buttons=t,t}function s(e){var t=document.createElement("button"),n=document.createTextNode(e.value);t.appendChild(n),null!==e["class"]&&t.classList.add(e["class"]);var i=e.callback;return t.onclick=function(e){e.preventDefault();var t=i(I);if("boolean"!=typeof t)var t=!0;t===!0&&I.close()},t}function u(){if("undefined"!=typeof M.transitionTime)return M.transitionTime;var e=n("transitionTime");if(null===e)var e=parseInt(window.SimpleModalGlobalOptions.transitionTime);return M.transitionTime=e,e}function c(e){r()===!0&&I.close()}function p(){var e=n("backgroundOpacity");if(null!==e)if(e=parseFloat(e),e>1)var t=1;else if(0>e)var t=0;else var t=e;else var t=-1;return t}function f(){var e=document.createElement("div");e.classList.add("simple-modal-background"),e.classList.add("simple-modal-hide"),x=e,document.body.appendChild(e);var t=p();0>t?O(e):O(e,t),setTimeout(function(){x.addEventListener("click",c)},u())}function v(){E(x),setTimeout(function(){x.parentNode.removeChild(x)},u())}function m(){var e=n("onComplete");"function"==typeof e&&e(I)}function y(){var e=document.getElementsByClassName("simple-modal");if(1===e.length&&window.SimpleModalGlobalOptions.disableScrolling===!0){var t=getComputedStyle(document.body),n=parseInt(t.width);document.body.classList.add("simple-modal-disable-scroll");var i=parseInt(t.width),o=i-n,l=parseInt(t.paddingRight),a=l+o;document.body.style.paddingRight=a+"px",document.body.setAttribute("data-original-padding",l+"px")}}function b(){var e=document.getElementsByClassName("simple-modal");if(e.length<1){var t=document.body.classList;if(t.contains("simple-modal-disable-scroll")===!0){document.body.classList.remove("simple-modal-disable-scroll");var n=document.body.getAttribute("data-original-padding");if(null===n)var n="0px";document.body.style.paddingRight=n}}}function g(e,t,n){var i=getComputedStyle(t);if("positive"===e){if("undefined"==typeof n)var n=parseFloat(i.opacity);else var n=parseFloat(n);var o=0;t.style.opacity=0,t.style.display="block"}else var n=parseFloat(0),o=parseFloat(i.opacity);var l=20,a=Math.ceil(u()/l);if("positive"===e)var r=(n-o)/a;else var r=(o-n)/a;var d=setInterval(function(){var o=!1,l=parseFloat(i.opacity);if("positive"===e){var a=l+r;a>n&&(a=n,o=!0)}else if(!isNaN(l)){var a=l-r;n>a&&(a=n,o=!0)}isNaN(l)?clearInterval(d):(t.style.opacity=a,o===!0&&clearInterval(d))},l)}function h(){if("undefined"!=typeof M.customFadeIn)return M.customFadeIn;var e=n("customFadeIn");if("function"==typeof e)var t=e;else if("undefined"!=typeof window.SimpleModalGlobalOptions.customFadeIn)var t=window.SimpleModalGlobalOptions.customFadeIn;else var t=null;return M.customFadeIn=t,t}function w(){if("undefined"!=typeof M.customFadeOut)return M.customFadeOut;var e=n("customFadeOut");if("function"==typeof e)var t=e;else if("undefined"!=typeof window.SimpleModalGlobalOptions.customFadeOut)var t=window.SimpleModalGlobalOptions.customFadeOut;else var t=null;return M.customFadeOut=t,t}function O(e,t){var n=h();if("function"==typeof n)n(e);else{var i="positive";"undefined"==typeof t?g(i,e):g(i,e,t)}}function E(e){var t=w();if("function"==typeof t)t(e);else{var n="negative";g(n,e)}}var C,k,x,I=this,L=["extra-small","small","medium","large","extra-large"],F={size:"extra-small",title:"",body:"",closable:!0,closableOnOutsideClick:!0,closeOnCallback:!0},T={"class":"string",callback:"function",value:"string"},N={value:"button","class":null,callback:function(){}},M={};this.show=function(e){var t=document.createElement("div"),n=i();t.classList.add("simple-modal"),t.classList.add("simple-modal-hide"),t.classList.add(n);var r=document.createElement("div");r.classList.add("simple-modal-inner");var u=a();if(u===!0){var c=document.createElement("div");c.classList.add("simple-modal-close"),c.onclick=function(e){e.preventDefault(),I.close()},r.appendChild(c)}var p=o();if(p.length>0){var v=document.createElement("div");v.classList.add("simple-modal-title");var b=document.createTextNode(p);v.appendChild(b),r.appendChild(v)}else t.classList.add("simple-modal-no-title");var g=l();if(g.length>0){var h=document.createElement("div");h.classList.add("simple-modal-body"),h.innerHTML=g,r.appendChild(h)}else t.classList.add("simple-modal-no-body");var w=d();if(w.length>0){var E=document.createElement("div");E.classList.add("simple-modal-buttons");for(index in w){var C=w[index],x=s(C);E.appendChild(x)}r.appendChild(E)}else t.classList.add("simple-modal-no-buttons");return t.appendChild(r),k=t,f(),document.body.appendChild(t),O(k),m(),"function"==typeof e&&e(I),y(),I},this.close=function(e){return"undefined"!=typeof k&&null!==k.parentNode&&(v(),E(k),setTimeout(function(){k.parentNode.removeChild(k),b(),"function"==typeof e&&e(I)},u())),I},this.updateTitle=function(e){var t=k.getElementsByClassName("simple-modal-title");if("string"!=typeof e)throw new Error("Invalid value given for titleElement, expecting type string.");var n=document.createTextNode(e);t.length>0&&e.length>0&&(t[0].innerHTML="",t[0].appendChild(n))},this.updateBody=function(e){var t=k.getElementsByClassName("simple-modal-body");if("string"!=typeof e)throw new Error("Invalid value given for updateBody, expecting type string.");t.length>0&&(t[0].innerHTML=e)},this.getModalElement=function(){var e=null;if("undefined"!=typeof k&&null!==k.parentNode)var e=k;return e},t(e)}var SimpleModalGlobalOptions={disableScrolling:!0,transitionTime:600};