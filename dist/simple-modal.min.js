/**
 *  Javascript SimpleModal library by Lewis Nelson
 *
 *  Author, Lewis Nelson http://www.lewnelson.com
 *
 *  Full source, docs and license available on GitHub
 *  https://github.com/lewnelson/simple-modal
 */
function SimpleModal(e){function t(e){if("undefined"==typeof e)var e={};M=e}function n(e){return"undefined"==typeof M[e]?null:M[e]}function i(){var e=n("size");if(null===e)var t=T.size;else{if("string"!=typeof e)throw new Error("Invalid type for option, `size`. Expecting type string.");if("-1"===S.indexOf(e))var t=T.size;else var t=e}return t}function l(){var e=n("theme"),t=null;if(null!==e){if("string"==typeof e)var t=e}else if("string"==typeof window.SimpleModalOptions.theme)var t=window.SimpleModalOptions.theme;return t}function o(){var e=n("titleTag"),t=window.SimpleModalOptions.titleTag;if(null!==e){if("string"==typeof e)var t=e}else if("string"!=typeof t)var t=T.titleTag;return t}function a(){var e=n("title");if(null===e)var t=T.title;else{if("string"!=typeof e)throw new Error("Invalid type for option, `title`. Expecting type string.");var t=e}return t}function r(){var e=n("body");if(null===e)var t=T.body;else{if("string"!=typeof e)throw new Error("Invalid type for option, `body`. Expecting type string.");var t=e}return t}function d(){var e=n("closable");if(null===e)var t=T.closable;else{if("boolean"!=typeof e)throw new Error("Invalid type for option, `closable`. Expecting type boolean.");var t=e}return t}function s(){var e=n("closableOnOutsideClick");if(null===e)if("boolean"==typeof window.SimpleModalOptions.closableOnOutsideClick)var t=window.SimpleModalOptions.closableOnOutsideClick;else var t=T.closableOnOutsideClick;else{if("boolean"!=typeof e)throw new Error("Invalid type for option, `closableOnOutsideClick`. Expecting type boolean.");var t=e}return t}function p(){var e=n("buttons"),t=[];if(null!==e){if("object"!=typeof e)throw new Error("Invalid type for option, `buttons`. Expecting type object.");for(index in e){var i=e[index];for(key in i){if("undefined"===F[key])throw new Error("Invalid button option, `"+key+"`.");var l=F[key];if(typeof i[key]!==l)throw new Error("Invalid type for button option, `"+key+"`. Expecting type "+l+".")}for(defaultOption in B)"undefined"==typeof i[defaultOption]&&(i[defaultOption]=B[defaultOption]);t.push(i)}}return t}function u(e){var t=document.createElement("button");if("undefined"===e.value)throw new Error("Missing value for button in SimpleModal");var n=document.createTextNode(e.value);t.appendChild(n),null!==e["class"]&&t.classList.add(e["class"]);var i=e.callback;return t.onclick=function(e){e.preventDefault();var t=i(I);if("boolean"!=typeof t)var t=!0;t===!0&&I.close()},t}function c(){var e=n("transitionTime");if(null===e)var e=parseInt(window.SimpleModalOptions.transitionTime);return e}function f(e){s()===!0&&I.close()}function m(){var e=n("backgroundOpacity");if(null!==e)if(e=parseFloat(e),e>1)var t=1;else if(0>e)var t=0;else var t=e;else var t=-1;return t}function v(){var e=document.createElement("div"),t=l();e.classList.add("simple-modal-background"),null!==t&&e.classList.add(t),e.classList.add("simple-modal-hide"),N=e,document.body.appendChild(e);var n=m();0>n?O(e):O(e,n),setTimeout(function(){N.addEventListener("click",f)},c())}function y(){x(N),setTimeout(function(){var e=N.parentNode;null!==e&&e.removeChild(N)},c())}function g(){var e=n("onComplete");"function"==typeof e?e(I):"function"==typeof window.SimpleModalOptions.onComplete&&e(I)}function b(){var e=document.getElementsByClassName("simple-modal");if(1===e.length&&window.SimpleModalOptions.disableScrolling===!0){var t=getComputedStyle(document.body),n=parseInt(t.width);document.body.classList.add("simple-modal-disable-scroll");var i=parseInt(t.width),l=i-n,o=parseInt(t.paddingRight),a=o+l;document.body.style.paddingRight=a+"px",document.body.setAttribute("data-original-padding",o+"px")}}function h(){var e=document.getElementsByClassName("simple-modal");if(e.length<1){var t=document.body.classList;if(t.contains("simple-modal-disable-scroll")===!0){document.body.classList.remove("simple-modal-disable-scroll");var n=document.body.getAttribute("data-original-padding");if(null===n)var n="0px";document.body.style.paddingRight=n}}}function w(e,t,n){var i=getComputedStyle(t);if("positive"===e){if("undefined"==typeof n)var n=parseFloat(i.opacity);else var n=parseFloat(n);var l=0;t.style.opacity=0,t.style.display="block"}else var n=parseFloat(0),l=parseFloat(i.opacity);var o=20,a=Math.ceil(c()/o);if("positive"===e)var r=(n-l)/a;else var r=(l-n)/a;var d=setInterval(function(){var l=!1,o=parseFloat(i.opacity);if("positive"===e){var a=o+r;a>n&&(a=n,l=!0)}else if(!isNaN(o)){var a=o-r;n>a&&(a=n,l=!0)}isNaN(o)?clearInterval(d):(t.style.opacity=a,l===!0&&clearInterval(d))},o)}function C(){var e=n("customFadeIn");if("function"==typeof e)var t=e;else if("undefined"!=typeof window.SimpleModalOptions.customFadeIn)var t=window.SimpleModalOptions.customFadeIn;else var t=null;return t}function E(){var e=n("customFadeOut");if("function"==typeof e)var t=e;else if("undefined"!=typeof window.SimpleModalOptions.customFadeOut)var t=window.SimpleModalOptions.customFadeOut;else var t=null;return t}function O(e,t){var n=C();if("function"==typeof n)n(e,c());else{var i="positive";"undefined"==typeof t?w(i,e):w(i,e,t)}}function x(e){var t=E();if("function"==typeof t)t(e,c());else{var n="negative";w(n,e)}}function k(){var e=window.SimpleModalOptions.maximumModals;if("number"==typeof e&&(e=parseInt(e),e>0)){var t=document.getElementsByClassName("simple-modal"),n=document.getElementsByClassName("simple-modal-background"),i=t.length,l=i-e;if(l>0)for(var o=0;l>o;o++){var a=t[o],r=n[o];x(a),x(r),setTimeout(function(e,t){var n=e.parentNode,i=t.parentNode;null!==n&&n.removeChild(e),null!==i&&i.removeChild(t)},c(),a,r)}}}var M,L,N,I=this,S=["extra-small","small","medium","large","extra-large"],T={size:"extra-small",title:"",body:"",closable:!0,closableOnOutsideClick:!0,titleTag:"h4"},F={"class":"string",callback:"function",value:"string"},B={value:"button","class":null,callback:function(){}};this.show=function(e){var t=document.createElement("div"),n=i(),s=l();t.classList.add("simple-modal"),null!==s&&t.classList.add(s),t.classList.add("simple-modal-hide"),t.classList.add(n);var c=document.createElement("div");c.classList.add("simple-modal-inner");var f=d();if(f===!0){var m=document.createElement("div");m.classList.add("simple-modal-close"),m.onclick=function(e){e.preventDefault(),I.close()},c.appendChild(m)}var y=a();if(y.length>0){var h=document.createElement("div");h.classList.add("simple-modal-title");var w=document.createElement(o()),C=document.createTextNode(y);w.appendChild(C),h.appendChild(w),c.appendChild(h)}else t.classList.add("simple-modal-no-title");var E=r();if(E.length>0){var x=document.createElement("div");x.classList.add("simple-modal-body"),x.innerHTML=E,c.appendChild(x)}else t.classList.add("simple-modal-no-body");var M=p();if(M.length>0){var N=document.createElement("div");N.classList.add("simple-modal-buttons");for(index in M){var S=M[index],T=u(S);N.appendChild(T)}c.appendChild(N)}else t.classList.add("simple-modal-no-buttons");return t.appendChild(c),L=t,v(),document.body.appendChild(t),O(L),g(),"function"==typeof e&&e(I),b(),k(),I},this.close=function(e){return"undefined"!=typeof L&&null!==L.parentNode&&(y(),x(L),setTimeout(function(){var t=L.parentNode;null!==t&&t.removeChild(L),h(),"function"==typeof e&&e(I)},c())),I},this.closeAll=function(e){var t=document.getElementsByClassName("simple-modal"),n=document.getElementsByClassName("simple-modal-background");if(t.length>0)for(var i=0;i<t.length;i++){var l=t[i],o=n[i];x(l),x(o),setTimeout(function(e,t){var n=e.parentNode,i=t.parentNode;null!==n&&n.removeChild(e),null!==i&&i.removeChild(t)},c(),l,o)}return I},this.updateTitle=function(e,t){var n=L.getElementsByClassName("simple-modal-title");if("string"!=typeof e)throw new Error("Invalid value given for titleElement, expecting type string.");var i=document.createElement(o()),l=document.createTextNode(e);if(i.appendChild(l),n.length>0&&e.length>0){if(n[0].innerHTML="",n[0].appendChild(i),"boolean"!=typeof t)var t=!1;t===!0&&(M.title=e)}else if(e.length>0){if("boolean"!=typeof t)var t=!0;t===!0&&(M.title=e)}return I},this.updateBody=function(e,t){var n=L.getElementsByClassName("simple-modal-body");if("string"!=typeof e)throw new Error("Invalid value given for updateBody, expecting type string.");if(n.length>0){if("boolean"!=typeof t)var t=!1;n[0].innerHTML=e,t===!0&&(M.body=e)}else{if("boolean"!=typeof t)var t=!0;t===!0&&(M.body=e)}return I},this.getModalElement=function(){var e=null;if("undefined"!=typeof L&&null!==L.parentNode)var e=L;return e},t(e)}var SimpleModalOptions={disableScrolling:!0,transitionTime:400,titleTag:"h4",maximumModals:6,onComplete:null,theme:null,closableOnOutsideClick:!0};